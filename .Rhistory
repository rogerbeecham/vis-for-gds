geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_manual(values=party_colour
data_gb %>%
ggplot() +
geom_sf(aes(fill=winner_19), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_manual(values=party_colours)
data_gb %>%
ggplot() +
geom_sf(aes(fill=swing), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_manual(values=party_colours)
data_gb %>%
ggplot() +
geom_sf(aes(fill=swing), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds()
data_gb %>%
ggplot() +
geom_sf(aes(fill=swing_con_lab), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right")
data_gb %>%
ggplot() +
geom_sf(aes(fill=swing_con_lab), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="RdBu")
?scale_fill_distiller
data_gb %>%
ggplot() +
geom_sf(aes(fill=swing_con_lab), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="RdBu", values=c(=.18,.18))
data_gb %>%
ggplot() +
geom_sf(aes(fill=swing_con_lab), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="RdBu", values=c(.18,.18))
data_gb %>%
ggplot() +
geom_sf(aes(fill=swing_con_lab), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="RdBu", values=c(-.18,.18))
data_gb %>%
ggplot() +
geom_sf(aes(fill=swing_con_lab), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="RdBu", values=c(-18,18))
data_gb %>%
ggplot() +
geom_sf(aes(fill=swing_con_lab), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="RdBu", limits=c(-18,18))
data_gb %>%
ggplot() +
geom_sf(aes(fill=swing_con_lab), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="RdBu", limits=c(-18,18), direction=1)
data_gb %>%
ggplot() +
geom_sf(aes(fill=swing_con_lab), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="RdBu", limits=c(-18.5,18.5), direction=1)
data_gb$brexit_19
data_gb %>% select(brexit, brexit_vote_19, brexit_ppc_19, brexit_ppc_sex_19)
data_gb %>% select( brexit_vote_19, brexit_ppc_19, brexit_ppc_sex_19)
data_gb %>% select( brexit_vote_19, brexit_ppc_19, brexit_ppc_sex_19) %>% View
data_gb %>% select( leave_hanretty) %>% View
data_gb %>%
ggplot() +
geom_sf(aes(fill=leave_hanretty-.5), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="RdBu", limits=c(-18.5,18.5), direction=1)
data_gb %>%
ggplot() +
geom_sf(aes(fill=leave_hanretty-.5), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="RdBu", limits=c(-50,50), direction=1)
data_gb %>%
mutate(margin_leave=leave_hanretty-.5) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="RdBu", limits=c(-50,50))
data_gb %>%
mutate(margin_leave=leave_hanretty-.5) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-50,50))
data_gb %>%
mutate(margin_leave=leave_hanretty-.5) %>%
summarise(min(margin_leave), max(margin_leave))
data_gb %>%
mutate(margin_leave=leave_hanretty-.5) %>%
summarise(min(margin_leave), max(margin_leave))
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-75.15,75.15))
data_gb %>%
mutate(margin_leave=leave_hanretty-.5) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-75.15,75.15))
data_gb %>%
mutate(margin_leave=leave_hanretty-.5) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-50.15,50.15))
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-75.15,75.15))
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-70.15,70.15))
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-50.15,50.15))
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-20,20))
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>% View
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>% select(constituency_name, margin_leave) %>%  View
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-30,30))
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
geom_sf(data=. %>% summarise(), colour="#636363", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-30,30))
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
geom_sf(data=. %>% summarise(), colour="#636363", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
guides(fill=guide_legend(title="Margin Leave / Remain"))
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-30,30)) +
labs(
title="Vote margin for Leave:Remain, estimated by Constituency in Great Britain",
subtitle="-- Brown - majority Leave, green; majority Remain.",
caption="Data published by House of Commons Library, accessed via `parlitools`"
)
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
geom_sf(data=. %>% summarise(), colour="#636363", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
guides(fill=guide_legend(title="Margin Leave / Remain")) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-30,30)) +
labs(
title="Vote margin for Leave:Remain, estimated by Constituency in Great Britain",
subtitle="-- Brown - majority Leave, green; majority Remain.",
caption="Data published by House of Commons Library, accessed via `parlitools`"
)
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
geom_sf(data=. %>% summarise(), colour="#636363", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
guides(fill=guide_legend(title="Margin Leave:Remain")) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-30,30), labels=c("T999", "T888")) +
labs(
title="Vote margin for Leave:Remain, estimated by Constituency in Great Britain",
subtitle="-- Brown - majority Leave, green; majority Remain.",
caption="Data published by House of Commons Library, accessed via `parlitools`"
)
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
geom_sf(data=. %>% summarise(), colour="#636363", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
guides(fill=guide_legend(title="Margin Leave:Remain")) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-30,30), labels=c("T999", "T888", "T999", "T999", "T999", "T999")) +
labs(
title="Vote margin for Leave:Remain, estimated by Constituency in Great Britain",
subtitle="-- Brown - majority Leave, green; majority Remain.",
caption="Data published by House of Commons Library, accessed via `parlitools`"
)
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
geom_sf(data=. %>% summarise(), colour="#636363", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
guides(fill=guide_legend(title="Margin Leave:Remain")) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-30,30)) +
labs(
title="Vote margin for Leave:Remain, estimated by Constituency in Great Britain",
subtitle="-- Brown - majority Leave, green; majority Remain.",
caption="Data published by House of Commons Library, accessed via `parlitools`"
)
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
geom_sf(data=. %>% summarise(), colour="#636363", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
guides(fill=guide_legend(title="Margin Leave:Remain")) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-30,30), labels=c("T999", "T888", "T999", "T999", "T999", "T999", "")) +
labs(
title="Vote margin for Leave:Remain, estimated by Constituency in Great Britain",
subtitle="-- Brown - majority Leave, green; majority Remain.",
caption="Data published by House of Commons Library, accessed via `parlitools`"
)
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
geom_sf(data=. %>% summarise(), colour="#636363", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
guides(fill=guide_legend(title="Margin Leave:Remain")) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-30,30), labels=c("Heavy Remain", "", "", "", "No majority", "", "Heavy Leave")) +
labs(
title="Vote margin for Leave:Remain, estimated by Constituency in Great Britain",
subtitle="-- Brown - majority Leave, green; majority Remain.",
caption="Data published by House of Commons Library, accessed via `parlitools`"
)
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
geom_sf(data=. %>% summarise(), colour="#636363", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
guides(fill=guide_legend(title="Margin Leave:Remain")) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-30,30), labels=c("Heavy Remain", "", "", "No majority", "","",  "Heavy Leave")) +
labs(
title="Vote margin for Leave:Remain, estimated by Constituency in Great Britain",
subtitle="-- Brown - majority Leave, green; majority Remain.",
caption="Data published by House of Commons Library, accessed via `parlitools`"
)
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
geom_sf(data=. %>% summarise(), colour="#636363", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
guides(fill=guide_legend(title="Majority Leave:Remain")) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-30,30), labels=c("Heavy Remain", "", "", "No majority", "","",  "Heavy Leave")) +
labs(
title="Vote margin for Leave:Remain, estimated by Constituency in Great Britain",
subtitle="-- Brown - majority Leave, green; majority Remain.",
caption="Data published by House of Commons Library, accessed via `parlitools`"
)
data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
geom_sf(data=. %>% summarise(), colour="#636363", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
guides(fill=guide_legend(title="Majority Leave:Remain")) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-30,30), labels=c("Heavy Remain", "", "", "No majority", "","",  "Heavy Leave")) +
labs(
title="Vote margin for Leave:Remain, estimated by Constituency in Great Britain",
subtitle="-- Estimated via Hanretty 2017.",
caption="Data published by House of Commons Library, accessed via `parlitools`"
)
plot <- data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
geom_sf(data=. %>% summarise(), colour="#636363", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
guides(fill=guide_legend(title="Majority Leave:Remain")) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-30,30), labels=c("Heavy Remain", "", "", "No majority", "","",  "Heavy Leave")) +
labs(
title="Vote margin for Leave:Remain, estimated by Constituency in Great Britain",
subtitle="-- Estimated via Hanretty 2017.",
caption="Data published by House of Commons Library, accessed via `parlitools`"
)
ggsave(filename="./static/class/03-class_files/referendum-map.png", plot=plot,width=5, height=7, dpi=300)
ggsave(filename="./static/class/03-class_files/referendum-map.png", plot=plot,width=7, height=7, dpi=300)
plot <- data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#eeeeee", fill="transparent", size=0.08)+
geom_sf(data=. %>% summarise(), colour="#636363", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
guides(fill=guide_legend(title="Majority Leave:Remain")) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-30,30), labels=c("Heavy Remain", "", "", "No majority", "","",  "Heavy Leave")) +
labs(
title="Vote margin for Leave:Remain in Great Britain",
subtitle="-- Estimated by Constituency via Hanretty 2017.",
caption="Data published by House of Commons Library, accessed via `parlitools`"
)
ggsave(filename="./static/class/03-class_files/referendum-map.png", plot=plot,width=8, height=7, dpi=300)
blogdown::stop_server()
blogdown::build_site(build_rmd = TRUE)
blogdown::build_site()
blogdown::serve_site()
plot <- data_gb %>%
mutate(margin_leave=leave_hanretty-50) %>%
ggplot() +
geom_sf(aes(fill=margin_leave), colour="#eeeeee", size=0.01)+
geom_sf(data=. %>% group_by(region) %>% summarise(), colour="#636363", fill="transparent", size=0.04)+
geom_sf(data=. %>% summarise(), colour="#636363", fill="transparent", size=0.08)+
coord_sf(crs=27700, datum=NA) +
guides(fill=guide_legend(title="Majority Leave:Remain")) +
theme_v_gds() +
theme(legend.position = "right") +
scale_fill_distiller(palette="BrBG", limits=c(-30,30), labels=c("Heavy Remain", "", "", "No majority", "","",  "Heavy Leave")) +
labs(
title="Vote margin for Leave:Remain in Great Britain",
subtitle="-- Estimated by Constituency via Hanretty 2017.",
caption="Data published by House of Commons Library, accessed via `parlitools`"
)
ggsave(filename="./static/class/03-class_files/referendum-map.png", plot=plot,width=8, height=7, dpi=300)
ggsave(filename="./static/class/03-class_files/referendum-map.png", plot=plot,width=8.5, height=7, dpi=300)
blogdown::stop_server()
blogdown::serve_site()
blogdown::stop_server()
blogdown::serve_site()
blogdown::stop_server()
blogdown::serve_site()
blogdown::stop_server()
blogdown::build_site(build_rmd = TRUE)
blogdown::stop_server()
blogdown::build_site(build_rmd = TRUE)
blogdown::serve_site()
blogdown::stop_server()
blogdown::serve_site()
blogdown::stop_server()
blogdown::serve_site()
devtools::install.packages(stats19)
devtools::install.packages("stats19")
devtools::install_github("stats19")
devtools::install_github("ropensci/stats19")
# devtools::install_github("ropensci/stats19")
library(stats19)
?stats19::format_casualties
stats19::stats19_variables
stats19::stats19_variables %>% View
stats19::get_MOT()
?stats19::get_MOT()
?stats19::get_stats19_adjustments
# From saferactive project
years <- 2010:2019
crashes_all <- get_stats19_adjustments(year = years, type = "ac")
years <- 2010:2019
crashes_all <- get_stats19_adjustments(year = years, type = "ac")
get_stats19_adjustments(
?get_stats19_adjustments
# From saferactive project
years <- 2010:2019
crashes_all <- get_stats19(year = years, type = "ac")
casualties_all <- get_stats19(year = years, type = "cas")
vehicles_all <-  get_stats19(year = years, type = "veh")
rm(bassetlaw, bes_2019, cons_outline, data, data_gb)
rm(gb, hist_1,hist_2, hist_3)
rm(legend, line, london, map, map_1, map_2, party, party_shares, party_shares_colour, party_shares_region, party_shares_rotate)
rm(plot, plot_scatters, plot_scatters_emph, plot_scatters_emph, plot_scatters_lab, plot_scatters_region
)
rm(plot_scatters_con, redcar, sedgefield, stoke, swing, t)
rm(temp_dat, temp_party_shares, temp_party_shares_region, temp_region_shares, temp_region_votes)
rm(PositionCenterSpoke)
# Use trafficalmr package for recoding
casualties_all <- casualties_all %>% mutate(casualty_type=tc_recode_casualties(casualty_type))
crashes_all <- get_stats19(year = years, type = "ac")
casualties_all <- get_stats19(year = years, type = "cas")
vehicles_all <-  get_stats19(year = years, type = "veh")
# Use trafficalmr package for recoding
casualties_all <- casualties_all %>% mutate(casualty_type=tc_recode_casualties(casualty_type))
crashes_all <- get_stats19(year = years, type = "ac")
library(stats19)
# From saferactive project
years <- 2010:2019
crashes_all <- get_stats19(year = years, type = "ac")
detach("stats19")
detach(stats19)
detach("package:stats19", unload = TRUE)
crashes_all <- get_stats19(year = years, type = "ac")
# devtools::install_github("ropensci/stats19")
library(stats19)
crashes_all <- get_stats19(year = years, type = "ac")
devtools::session_info()
